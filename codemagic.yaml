workflows:
  main-WF:
    name: Release Build
    max_build_duration: 30
    environment:
      vars:
        FIREBASE_ANDROID: Encrypted(Z0FBQUFBQmlITERxZmpXSlhQdVdDMXpwZDRkZlZabnllaVBhRXVQSjVoYlM3MTdWLUZUQmNvWmdES2dtNndMYlVTMmU3a0llUk9EQWJrSk54d25vNHI0cDlPbHFlS3p3ZmVQSXdXWWY4TFRFZXR3ZFotWnMxLUNlU3pkWjlHTXZQQmlkakdKS25IRkRiSFBsX0Nla2ZHbkcyeDJvalJLTHZzRElEODhXRHZFS3BTVUNmaGZYalhoTmpWR1hfY2UwbUxGSURpYVNxNDdYdGx2NnNmOHZnbXp6LXZ0SzVCVEtSZEk1TzcyTklDVEJBTTVfb3E5YXluSnVzWExxMXVYNW1VZXdJUXpycnhpZmtFYV9TdERCaUxaaEswcHpsUUtjZzFDQ0o4aUNrQzVyM2FlZTVpM0NQaXM2alFndVh4Vk1SVXRxMnpCRlhZcmlzbElPbGR0RDVOdEh3dDU4bnFaNGtlRmdxeEdPd2RVU1E4NHI3UUhOMzkzc29QRWU0eC1VYWN3bDVpb3U4N3BSbkFoN0dhZVYxaE5IY196T19MTjkyRXZXMS1ka2habVJZMDZDa1dSMzFWTDNiU3RfbEQzb0lKam5sb2RjUGg0X0dmakEtejg2eWJRQmI0eThHRDhoakJyQ1Bnd3p1cERxd0ZIbHZxVUE3d3ZVYndqcmRLV0hSM3ppOE9rSWRnV0EwYmtKMGdMMWZoWWo5a0xpdUcxQWhFNk4yU0tCdmk5c29HNGJZa29vMlJQSEpyRTFEenJyTEp6WDVqYVBQNHE3OTNYb3dmckVLMWpuLVpIZGtqV0hPS05LMHkxck5MdVVHR2tPa0xGVllUUkJTNjRVaFg5X2NGaThJYnFFVEc5VlNveEdpV3RkUXRGd0oyd0pzWFZ1QmI5ZU9VUDZwaml4YWRXdkY2WFdQd0hvZ041V1VBdGRWekYzUUwzaW96dUw2ckpjVENmMWNEbEczQjF2TWdpU0lQTHFzTmE3aE5zbXgyUmIzS3JtNjVyUHlyWllCcVNodmxGWi1uQVE4ZGVrRmhKRDd6MzFLS3NIbUlGSDU4T0ZrWHVRMTdGVFhmc0hhZmxhLUVCSlZIZ0w4c1paaWl1QjA1ODFHeDk1dUFpUk5GZHFPZnRyakllRE0yaGJGUEN0Qnk4VC16UTBuVEtFbG9QRzN5WE81bndYeHVPSk8yTkdqYnBhMGVuaU1BalpOQlI0U3VUVWZpNVlkWW92TThwNzFyRHB4MVU0cEpoTkVLM3lsdmRKVjRkRzNhWGNvM19wdjZLSGFSMDNvNjQtNVRNeDl5STcwRF81WnpqQmVBVzhMV3Bpd3NvR1I1OXVYU3RsMXRyRi1OY1JnWHowanFLeXF1RUlpV2ZXUU9sVTBma01CMmxpXzMtZkhjVkZQNlR5NUJUdy1fYUhtN2FjLXVBUG5SX2drYXA1bmNrX0dQNVNrRzJNRy1SQ25PbUtYY3pGU2h3a20tYk10SHRCeEFJdHdyZ3c0dWVac19mUjJtRG9Zck55a01MTm1nSHN1NWZYVHNxdVUxYmhWY1JRUDBRZ2pDUDJkR1pmUnBDejVZUEJ2NXFkdVphN2Y3cGtPWGREMDhYc2NlMEZGa2dqZFJ3eFJxNGllOFpEVkJ1cUVnTlJaOVVGU3Brcy1IZGF0RmJtcEtWZFhOZ3d1Sng4YUlkV09pem91WEVsVzNRODdqR3lrQmI1dmJfYTU0Y1hhX3ZGaldZQjR3T0hNWVlHYzhESktaWEUtZHdPMUJYZmU3MTNwWG1qcmcza1luMGNIOUpmQ1NBa19fZWExbjZIWHU2UVFKNG1LQnlNRkM5U3RZQXd3X3Z3bWZxdld6cmxmZWpvVm1EX2czQ1ViZnUxdHZOVHE4LWpjaFZ2TzM4MDEyRDJfV0xFcVpJYmZjU29VNzZ3TUhaM1RrYTU0LWtIcE9vNGRReDRDYi05UmNqVUNrYzh6QjhBbkE1QkxSbVdBcVVDWVRrdXp5M0YxNjhGOGktVFM4eDNJWW44bDd5cGd4SS1ONmN0ZllubnUtNkdPeUZhcWd4Rndxc3NqU0JYamdmTFQwNmE4UGhyNnJTTmhYZHpqbVZQZTZpdlZJSF80TE5fcE5GLXU5bDlZY3dNTmpTSXJ2aXpNdElpSEQ3eFRrYkMzS1pfV3lRSlpBN0NySDByV3BucnZxeGNrWWNCVkxCbFl5YmJhd29hOG83RXNXdTZYUWRfeFdSRWpVVWQ5UjNkWHhJX2FfRC1zUjhuQVE3eUJ3LUpIV3Q4bkg2RWdfR1F4REJsMVNtdmlwTFZQVmplWGNxcE9TbEw2dFZWekdMTTU1MWVqa2I4aEVkQk9lc3B3d1dYbFhBWm0zS3d4Q0VHd0kyUE9PYVh4S3JmNk4tdU1BNGlzR0lXcUpFZHlCekkxNXB0Q25UMFNwUVRvMmJrR0RLaHZXU2NqVWt3RXNJZVNGQklaSDl5c1h4SFBoN1BrWWI4UlgyZTFkRHVrTEEzN3F1T25DTzVpeV9nU3lPWmxTNGVDWnRDaHg5UTVSZ0tQcXY4WENmcERYNE5zYlg4M3V1QloxNGxyYlpjZWc1VnpqbTdVUkpLSGJjdktudFhHeGR3T0NjZGZDQ1ZrSkQ0ajczWmFmZHJTeHhTTGNEd2JnRW0xQ1dTaThYdkt1aUhSZ1BXODM4cW9NUWtvcVUzQU1fTHJxUW0zQXBLamRCS1I2bHpWcEhhM2Z1Mm5adDdQR1dXUE5DcjN6a0pCUUFxTnVpdU5tSUw5U1o2OHlnTzROWVlBbjVhSXl4UDhTNkFoWl9FUHVOUTFzQjZneXd0NVJmeXpYN1hFYWhCcHdQeFNlS042eU5CZ3ZyZFk0QmViSEVaRG5GLUhTOURwbDkzaTFVaV9RdTk4WlZuMnVuRDBnQ2RBU0JwNjE4MENXaUNyMjhETmRSY1g2NUxfc3pnZmZEalZVYVRraFJaUVZrMVZlcVBqLVBoUy1EWmk0dWRhUjdZVE9qbDNYSEkyZG03Y2dUckNVbWZqbi01YVQ0eXdaSVhZcFB2WTk2RTZsc1JJdHp5dFBpRGNJVEFmUmU4LTVNYkNzOEp4bjNlOEhaUk9XUGFaeHJuMlR1X3c0SlpZOU9yZ2R1ZDVQeHFxNEE0VUNXQkZEY3Q3V19vdE5lZ3Ywdjl0b3laZlBxbzYtOXJZYUxORmluOWRHSUpkbXVONkRFR2JMOUNXWW1qSUlrOGVOOER0dy12WXdYSmF2eTR4WUtDVUVfOXVLcXNCbWgtc05vTVNwOExJS3BQNy12WUJvNXhmOVlBSkdJOF9TQV9ua0doeWNjT3dJLVRDeC05bnVjQ0hHX2RNUHlkNV80NFNlTjdvN2ZGREd3VmtPUDBuQUQyX3J0c293dlZfeXZKVkNfRFo4eXB2TmJvTDBqcHhFR2wzVlN2MnBlNFF2SzdkY2hHNmt0MWZjZllVM0JWY2R3VC0xSHU1TWtYUHlFXzRhNzROZnc9)
        PRIVATE_KEYS: Encrypted(Z0FBQUFBQmlITERxbXlmZjNrLXNlZW5COUdvMEJocXZ6NEFVNnZiQTMzLUk3dk80U2RNaExQZ1E3Zzd4Q0kza3Qxb3RLSDZuRnpwelJJd2l2cFQySDQtZUkzVWU3My1LTnlFYTIxZnNoaXdNVFFTUHQwM0tTdXhVMF85LTUybDVxMW5nVnJYMzRSRXpLaTl6WTgtbUwzYzdSODhxckd0dGt0YzZ0Nm1zM0R1MFR6SkNfWlhtZV9HRUs0ZTJRdkI1WVB5LUgwR2pBdkVDcWttdmdZUzQ1NU50UTZjTnltLWE1Q3VTd2NjZlQ2Uk84alRubDUtTGhSXzJTRXFFaV9lb0FGNmtReXlJRE5iWHRDLUF6Zi1ORHlnYnNsanJBNjV1VkhoMXl5and6TWphRWNCX204WG9vNzJYdjR1ZnlPSHZrMXozeFVEeXhvcVh0cmZVcTgxSmh0aVZwVmdpRGFQb19WRXpQdm9pWm9zU01mT0sxaVg0YjdtZzFJWjIxempINFFqRng5Yk5INTJpY1k5QWthMS15Z3hrX0hoRS1MSGdmcGpTM3l5WU91bl9GX01PMTkyS2JUND0=)
        FCI_KEYSTORE_PATH: /tmp/keystore.keystore
        FCI_KEYSTORE: Encrypted(Z0FBQUFBQmlITERxenRtZF82UkFCazhscHdWeG8weGQxNURQa3lhaWxVUUlZWHFlRkhkQjRIWWQ4SDU0ZVJNYW1mbGtUbnhaZjlSUXFNbUc0VDdKQ2RtSV9hMlVnaEJ0YjI5dWhteTZuamtkNEQ4X0VaTTJUTmNSTm1RYWloUmxfTkNXRGtNQ0pQd1BkU0pxRENsTjVnNWxHaXZYaWFTcWhlVmdJa3llYVBRQnJHNFhNTnBxbTdYLVpWWVNESDhUeG9NRTNHek5uUkRBTHh3a29sWF9WaFFCMlA1Mm9HMFJ0cWlkM0QyU29WaHVqSnh5dVNENWZnQVRpSFpOdWZFRE9mLUhXZVFObmFEQlpRMmNPaFdIaDgxckFDVG1udDBQd1k3XzQwR0Fjd1hxN21SSUU5Tkk2TzNFQzNtNTNhWjE3bm1OcV84c2dHU04wVFJJYjRPZmx2dm5xMml0ekVOQXZ2VktRb3NhN0x2M1dsV281dHRtWTN6RkFreGxIVUVOOFFmaGJMRG13X2xzc0gxNzVKYVJXTk03aE1JUXJjNUdVZ2tqTXFYNjVzdUF4bUJ0b1B5QnF5aWc5REpNUk9GRUVOYzNLenBhaDc4OEVJcWpZRkpOSW80TVRDMnBuYTV5alJDc1hyUmE1RldYRGlDMkFGZElzaXQ2Q1NIeGV4YTVaSVdpR2tQZkRiLXRhLW1kVVNOa09lVWRaTGJJUG9vSWM5ZWR2Z2h1VDZveWZlZ3hzNExjdFdjMDdDenJIelRtYk1GM1l5Rldoc1puTDRhZ0RMcTl5VDMzQzRWc0lHc0NlREI2dlk5THB5MFlOT0puemwwTnJDTktQWTE5cGZWOFpnZEhVb3NTLWw2d3dQbjFwczBqSHpfOWctMEZLc1FYWTlaV3h6eGttVTl3SXNBV2pSMVdBS3JUUlF3S2Z1LUkzTHJlVmJzSHJPTTdXdzUyTjNYWk9kMU52OG1SR3dfeER4OUk3N0VrZVMwWlZKUXZsR2VrRTV0eUJsZjhJbXNWcmt2U0stMFVjSFo4bDVHcE9XTndDR1hvS1JQQnVJZmRsRXlBRFlsOG9HODQxTGJaN19MZUszVDRkVjBDbExiak5lVHN4MnFvcGpSUWUwVlBuOFpPUTZfQ0ZONFE5S3R4MHpOdDNYRUhJbk0yUl93X0JTTzNfWmNZMVQzbXY0RlJQRTFtSHdobDFIRzBZdDM5eFVJSHdfMEFKV0NVTXRkZWVCdW9pTklEZVAzQUw0dTFJU1NFbEtmYndqRWRSMzMtSWY4alRfUHFwOXc4UmMxYW0wRkNoZDllRnBIWU1SWUF1SVVYX0gwdFFKLVFqb0FNdzUzLWhEYUxMM3pIN1dsd3piTGFTU1lPTTJBaDc2OTYyQnY0OVFtX0FDem1iTklKa0o4ZElKRnVTSzJjX0pRei1oZ0VFckZWSHRsVFhBT0ZlZ1ZOT1VaMUhjSkQ1UDdfWC1FRkdwbEtMMzBidVhWV1JlUWdVbkt6LWY3b0FJWUJXWlBnU3l6Qm9lSzJ5ZzNOOUZJZlQ1cEdRN0dzTXNxX0loTUpNaUI1bDRXeEJMZGtYNmhVYkhxajA3ejNXX05CT1hXLVdXY3RpbzR4Z1QwMXlzMGoyVnQ3SVZKMUhlV2ZUY09MZkwzU2lsVkw1cThvc3ZpRHJCdlpSTXFoSzFJNFc0S2c2WXBJUklXZFZLbFgyVm1QOFVObkZMZENEME8tVFFLVkVwZGRkb3NSQS1LMHZnS0tYMVJMVkg1ZGwwcmJ3RWNfZG1OQWlYNnpGYkcyNXVFZVhYUTc5R1VldzNuRHdEVjRvMXRtR0Q1MXc1MVhxdFdfdFV1RXB5bkgyMXNCNm9LeUxJWVhBVTZnM1Raenk2MUVvNWFKMVAwXzhEcTYwLUhEcnhJanV0TzNmZkRvT1ZfUDdTRHdaR1BZcktDYnBDSEVwVEkyT254QWVTUnVXcndKY3hsTXFEeVJ6QnIwWWpmSTZuZTdIekdjZnZfYzdZcTJCYmZPRXhYNjlVTlN2WWZ3ZkdLVXJoX0wxS0twZ2hJV3oyTFhQVVNtdXlHV2JzdVB6VWJHSnMyTDRscThxR2JjTjZRbzNNeUgtbkI3U0U5MVdaakRBX3d3dUo2S19lSFIxalNTUmRKWWVVam1RdTFjWlB6WEtxR2h5ZjRwVFBFa2FCdkpxc2ZCTl84eVFmdnJXUVd2T2FsRnBSN3FCWHBmcHNmc2ZKak85aGExSXg1UlFQeFBQamp4bFN6MFNqdHlUQldTRXlnbTZqbk96aUxFUTRkdmVsTk9TUHItOWtGMW5ocGl0OE1XZG5PVDAyVmJ0N3hxdnhvS0N0OHNmRVlWeWxWUDNTNm8yWnVyTTh6VlQ2ekpXczBaZW5DWnF3MFMxNl9WRW45ZUg3Wi0wbWJTMkd6WGpzLTVuaUxwZnRxdTd4dkVJTU1FUWdwUVZzOVVmZjFKY2t0bk0yRWJKVUtCUTd5M0NzQ0pUdk5qZTZpUF9PTVVhTmRjNXpINkRYWE5Tb1dmX0Z0SUhlNjZpYk05ZlZ0NDIwLTMtN0d3TnpueHgtM204OGxXU3J6cDBRblp3cmlvMEJfUXpfX21wdTRJTjF1dkxwTTlObmhPOEpXeGtkNkRETElxRmtMOVg0czFJcGZVRGoya1ZxVjNjUDNBalR5a2IyV2F5NXBBRmJ0SHRmNlFfdUljVWQ2N2dIT0RhbzU4QURtVDlDem5KTEtrUEtRZ2VBUzVxZzEyRG5pRC02dG1vdDN6bmxFd1o0RWFaQ2xqaFJMc0pTS1J0dXl3NVE4bURYS0c4Z09ZcDhaUWNLV3RtY01tZEljTUJvUGtBVXVUZEZRZkxjWTA2NUZlSENSWTQ5S3ZEME5YaFRRZjVsNU5YYi1SLXlZenh3el9vMFhLYmFOeUFPcUhtSjZOTDNuTWhNbV8yLUNVUlIzaWVxYVFKUWV5NnFzaWduR1ZlajVLMDlYREkwYl9XWkxPWnRqLVJVbnNvMm5ncUhFN1pEUXFQWTJjbW9URlRVQjg0SGxLcksxVUptc1FBbFp1ZWlxS0k2LWx1QVVVR0tKUTkwcUVkaG5QeFJfRXAxZXczTW0ybTAxV3ctcVN3aEdtYlRVcWVBRVhWdFhwTXUzSXJSMlY5R1F0NGl6ODE5VzdSWDFVQ2QweVYtRG44S2NQbUpjcDlfbVJZWV9qaUpNaFF6TklqQXg4MkpWdHdRMWMtWVJtaWpWM190M0wydTg5OU1WdlNuSXRLMW44WnBmaUhlNVlwRXVnZ1hNb1FqYzBzYUZJaTBvQVhpaEFHRmF0YVpQS3VWNDdqWUpibHl4RS1heFFLMWtscVN4MzRWWGxHbVJMNEdlblpNaEs5NEJOM2xNbDdJcXlfbnk1RGFCUUpGUG1oS2tmMHpvbkNReEpWVWpTNTNyM2J5bjc1bmRKN0lWLVc1dXN4WmhtRkxlQTdVZ3E0bm5FT1d0ZmNzS2lVU05HNHFwMW5mNnRsVi1RbHRXNWZNZWo4dnhIYl96NEFQeVJZOE1pXzBmZ09YZkdJd1M4bjhGZG1QUDR6Y3B6Q0llaDNCbko1Q25XN0hFQlJJOGVtRHdETHFhdjFXYk9zT2syWlp3eUFwMEcyZ2swclhLWHlkbkhZUUdjclFOVDJna3J4SG80OGRha3NzbEpkYmtvNGpEdmdkamlQTDlxTXpxS1lHTmt3Rmo0UmhfMEJJV2RiUWtURWF6d2xEME5QbWxwZ1FDVVRsTXFKZTk2ZkRkVm5yWmtaRUlJdDFvTlNuT0xQemNma3VZLXhKdlMzNEFudmpwUjJPQnVqajNNdnNaR09FNlN5bkk2ZHh2ckc1YzhXTURlalF6WEJrMTdvamNYZHBWSWsyS29kZTlBSnFpSVAwN2xvTklUdnpYdUlkbVFXSWJzTllHRklMamUwejFuVTBzSnltRGVhaTVmeXJXdGd5aHdBNDZtTmRONmtYSGhiTTBxR1Y1Rzd2UHZjcWRwbm90aDdUVVNwZnhZSmZCLTljNnphaWVZbUxQMTZrcENDa0tza0JYaktDa1I2elFueklBOUl0X0hNdXFpcGxESTVBU2luSWZ4bE9BcE9rOEE0alBqZ3k3bzRUY1RGS2pBcFRMdENBMHJoOE83aHRJNzE5dWFmOVlWLXlzM2JqaVFSeFI5VGRiMllteWVsNjVFREVLTkI5bGFFT3lJSlFjSlhTZThxa1R5czZWZk1IZXdMbllHWmFiR2pwUFI0dzd2TnR0azlPVE1UNi11b3pBMGFobHhFR01pMmYzSmRGd2UxMENQdjVqUFdScjJjdFppYWRkYnlOSThNTTJaakZ3Mmk1TDZUUm1GWW5uNUJaR3NMcnh2Sk45Y1BQWWowUkU5enBqbkNXUnVLQnc0enJyN2J6LTR3RmFIQnU4elpRQzJTWmFBRHB2aU5YUGEwOFp5NGtiSlFteFU5LU5jckJNZFRtOWY5em1xS24wVnJHMDVnVlRfYXEyNlBwU2VZQy1YWnNUa010ckhhT1hCV0wxOXdURWFyTmNZaWViOXg4U0ZTUmtOcUN3eVlZQ0l4TFI3SnFIelNZeVJ4bU1jRHRWVjVScUUtR1VGUVdvdkVFZUw0TGdQMnpaUEVFUTVINElBNlVkRVVoQVBNbWdRQkltTGhUeUczOVIyOWFKZ3dSREYxNWxCNUhtR0ZHOVNsZ1pZVmJJSUF4ZUNHR0x4MmF4WjE3NEZxQkdpbVNsSEFKT3ZteE95bkZNd0NVekFISmFSNnFWcXhKbE5lNWFIN3RfdXVpVmRDQXNWU2VGb2c4OVQ2SGd0S3pDZWJTS2M2NWY5ZXJmeTJKVUxydjVZWUNPdHZKYVZwUFF6dmF5LWNZeDdJdUpUYUtpMkJXZ0hROW5INzgwZkdtVjJ4Ym90U004QVNOZ3JKTGRiUHl1dTNVc2hhZTh1NEpYRlNWUlVWRXdpX2ROaHIwQjYxRUhaR3NDR3hRZ3NGNHNtOUMwZjY1NkFDWGVqdjBLTjR5N25EWTJuZ1h0RHV2eHNIQ1BlXzVLZDBGNDFUNHlBWGQ0Tm0xSlJQNXdDSXA4eFJjeU1MbVdXX2t1RDk5QnQzclowaXJYM0MtS2JfMFMzV2RucnJZZVlzMFhJTndENUFyT01xNDkxRWNzNG1WLXFmaVNKR1M5U1pScWVJbVpwSGw5VHNTT0FhaWJ1LUIwVVlkWlpubC0xM2RiTzJHd3NpSGNReVFMZUxaNnhFNjNWWE1IRmZDdXJFbl83SjRIZW1LVDU1QVhXM2hib0h1OGpSbnQwMzZYR1EwNU9yQmVPM3FGbnd6TTFqTjY3SlFKa2Fua00zaVFyOWw2cU9jZ3FpLVJySFZ1YTlSel9jMFpLUmVEenZNZ19NMUhKem5sLVEwS1JzcWN0d0l4RldCWlktS2ZodXptVmZyeE9RVHNpNU10VjFlamFnZXNBSlQ3ZTVteEl3VkVURWd3NW9faDltelRWd3ZuQ01IbTE1LTVMMkcxYlV0SEUwRGxqc0p4ejA5NVJKbFpVODlUR1g4M1U4LXFtR2lueUsyZWxkaVFsMjRDTXUycndjd2pHaTNreVlYUHFPeVNxUWpyZ3R3TnI4QlBaQVFpREg1X01wUUdlWDg1UUFjb0hDZkVqQ0pSVV9KZ0ItWVJ3bEZmSFJEYzlSVG5rWEdqd0ZmTXJwVGxSbEZ2a0pSdXZLUUYxc19pNEsxRmlBTlFHSFRrUXVHZEQzbml5RG1xcEgtbkx4WFhXZWpqRzJRWktQeFhqanVoRGtueWhJSUJ0dU00ZEx3Qmk2UlF1ZmlVaHNrTzMzd0pUWnpFRUlrZ2xIQ241UFhPQ2lvOXk3UTk2Q2lpWGVJd1M4djczZHhVTkxxZG5hYmM1NndtN0ZjU2tTaTlyY3d5bGtzNlkxSG54Wlg4YlNNbk5ZR1Yzd3FvTjhyWnA2eE10NGg2c0FjTG5MSXNobUV0a2NVR0dqb3VoTnlKbEpNYmY4QkN5OHZTUXNNR0RVbkwxanNZZWQzc0pkaDgwLWpXeVlRdDZEVVliLWx2QkdoQmlxUmJNd1FrLXRlQ1hnWXFPb3dTRGI2azFLZXg5RVYwU1NQQnhoTHRra2xmUUFQQzhvSmNzNUFqazBiUFdrdXNyVHY2WEF3WEhJVnNuZ21lRnhFQ0VydGJraXRxTmdpX0VGSm83dy16TlhST3E2YWVwOHVjS0xpRFZWVTBXb2dLUjF2cHo1YVRlTm80YTRBM3lQU2VPVms2ZmhHWFVfemN3eHc9PQ==)
        FCI_KEYSTORE_PASSWORD: Encrypted(Z0FBQUFBQmlITERxckxLeXdBUGZubnhxOG53R1VDOXBtdUVRQ0p4TE9wZEJnMWNEZjV3ZjNGNG1mbVQweFdBVVBMTnF1VXo0TUhic2VSVU1jU1hXUEZDbGZrdUFSd3Y3a3c9PQ==)
        FCI_KEY_PASSWORD: Encrypted(Z0FBQUFBQmlITERxSE9INlBIaks1RDNzLWwzU3N1TU5ZZkxRUFVlZExoZFFYNUZMeE9iZ1UySDlTOHNGRFpsTjVGVnlseVIzdzg2ZjRNNTFhczBOSXd6cmVKbU5iMEk2NHc9PQ==)
        FCI_KEY_ALIAS: Encrypted(Z0FBQUFBQmlITERxaTV4QTQ5ZkpUVDM5a2w0ejZEU0kxdkhhOGVUWmM3d0p4UVVXaUJpSTFTbWJsam93by15SkVjQkg2dEptTHlidlBsVUFaQnMzSGh2TWwzaTQwVi1vZmc9PQ==)
      flutter: stable
      xcode: latest
      cocoapods: default
    cache:
      cache_paths:
        - $HOME/Library/Caches/CocoaPods
        - $HOME/.gradle/caches
        - $FLUTTER_ROOT/.pub-cache
    scripts:
      - |
        # Set up key.properties
        echo $FCI_KEYSTORE | base64 --decode > $FCI_KEYSTORE_PATH
        cat >> "$FCI_BUILD_DIR/android/key.properties" <<EOF
        storePassword=$FCI_KEYSTORE_PASSWORD
        keyPassword=$FCI_KEY_PASSWORD
        keyAlias=$FCI_KEY_ALIAS
        storeFile=/tmp/keystore.keystore
        EOF
      - |
        # Set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - |
        # Pre-build Cmd
        #!/bin/sh
        echo $FIREBASE_ANDROID | base64 --decode > $FCI_BUILD_DIR/Android/app/google-services.json
        shasum $FCI_BUILD_DIR/Android/app/google-services.json
        echo "\nFirebase Secret File Sync Done!"
        echo $PRIVATE_KEYS | base64 --decode > $FCI_BUILD_DIR/lib/private/keys.dart
        shasum $FCI_BUILD_DIR/lib/private/keys.dart
        echo "Twitter Api Key Sync Done!"
      - | # Get Dependency
         flutter packages pub get
      - | # Build Android(AAB)
          flutter build appbundle --release --obfuscate --split-debug-info=obfuscate
      - |
         # Generate apk
        android-app-bundle build-universal-apk \
          --bundle build/**/outputs/**/*.aab \
          --ks /tmp/keystore.keystore \
          --ks-pass $FCI_KEYSTORE_PASSWORD \
          --ks-key-alias $FCI_KEY_ALIAS \
          --key-pass $FCI_KEY_PASSWORD
    artifacts:
      - build/**/outputs/apk/**/*.apk
      - build/**/outputs/bundle/**/*.aab
      - build/**/outputs/**/mapping.txt
      - '*.snap'
      - build/windows/**/*.msix
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - onory0917@icloud.com
      slack:
        channel: '#app-dev'
        notify_on_build_start: true
